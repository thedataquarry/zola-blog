<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>uv: Towards a unified vision for Python tooling | The Data Quarry</title><meta content="uv: Towards a unified vision for Python tooling" property=og:title><meta content="Prashanth Rao" name=author><meta content=en_US property=og:locale><meta content="An introduction to using uv to get the most out of Python project and dependency management, without worrying about virtual environments" name=description><meta content="An introduction to using uv to get the most out of Python project and dependency management, without worrying about virtual environments" property=og:description><link href=https://thedataquarry.github.io/posts/towards-a-unified-python-toolchain/ rel=canonical><meta content=https://thedataquarry.github.io/posts/towards-a-unified-python-toolchain/ property=og:url><meta content="The Data Quarry" property=og:site_name><meta content=https://thedataquarry.github.io/img/dataquarry-banner.png property=og:image><meta content=article property=og:type><meta content=2024-12-26T00:00:00+00:00 property=article:published_time><meta " content=summary_large_image name=twitter:card><meta content=https://thedataquarry.github.io/img/dataquarry-banner.png property=twitter:image><meta content="uv: Towards a unified vision for Python tooling" property=twitter:title><meta content=@tech_optimist name=twitter:site><meta content="An introduction to using uv to get the most out of Python project and dependency management, without worrying about virtual environments" name=description><title>uv: Towards a unified vision for Python tooling</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><style>body{--primary-color:#376dd9;--primary-pale-color:#698bcf1c;--inline-code-color:#444;--text-color:#444;--text-pale-color:#545967;--bg-color:#fff;--highlight-mark-color:#5f75b045;--callout-note-color:#3e70d6;--callout-important-color:#7a46cd;--callout-warning-color:#d3822b;--callout-alert-color:#d43f3f;--callout-question-color:#3089b5;--callout-tip-color:#35a06b;--main-font:"IBMPlexSans",ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:"IBMPlexMono",ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:750px;--main-max-width:750px;--avatar-size:175px;--paragraph-font-size:16px;--paragraph-line-height:1.5em;--aside-font-size:16px;--img-border-radius:4px;--inline-code-border-radius:2px}body.dark{--primary-color:#689afd;--primary-pale-color:#93acdd1c;--inline-code-color:#d2d2d2;--text-color:#ddd;--text-pale-color:#a0a0a0;--bg-color:#202124;--highlight-mark-color:#5f75b045;--callout-note-color:#698bcf;--callout-important-color:#9374c5;--callout-warning-color:#c99054;--callout-alert-color:#d35757;--callout-question-color:#5091b2;--callout-tip-color:#3ea06f}</style><link href=/main.css rel=stylesheet><script async data-website-id=01228822-c189-4b8a-93ba-733d045bf346 src=https://analytics.eu.umami.is/script.js></script><body class=post><script>if(localStorage.getItem('theme')=='dark'){document.body.classList.add('dark');const a=document.querySelector('link#hl');if(a)a.href='/hl-dark.css'}</script><header class=blur><div id=header-wrapper><nav><a href=/>The Data Quarry</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a href=/posts>blog</a><span class="wrap-separator fold">,</span><a class=fold href=/talks>talks</a><span class="wrap-separator fold">,</span><a class=fold href=/projects>projects</a><span class="wrap right fold">} ;</span></nav><div id=btns><a rel="noreferrer noopener" aria-label=GitHub href=https://github.com/prrao87 target=_blank> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill=currentColor></path></svg> </a><a rel="noreferrer noopener" aria-label=Twitter href=https://twitter.com/tech_optimist target=_blank> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" fill=currentColor></path></svg> </a><a rel="noreferrer noopener" aria-label=LinkedIn href=https://www.linkedin.com/in/prrao87 target=_blank> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" fill=currentColor></path></svg> </a><a aria-label="Buy me a coffee" rel="noreferrer noopener" href=https://www.buymeacoffee.com/prrao87 target=_blank> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><title>Buy Me A Coffee</title><path d="M20.216 6.415l-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 00-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 00-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 01-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 013.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 01-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 01-4.743.295 37.059 37.059 0 01-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0011.343.376.483.483 0 01.535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 01.39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.06-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 01-.169.364zm-6.159 3.9c-.862.37-1.84.788-3.109.788a5.884 5.884 0 01-1.569-.217l.877 9.004c.065.78.717 1.38 1.5 1.38 0 0 1.243.065 1.658.065.447 0 1.786-.065 1.786-.065.783 0 1.434-.6 1.499-1.38l.94-9.95a3.996 3.996 0 00-1.322-.238c-.826 0-1.491.284-2.26.613z" fill=currentColor></path></svg> </a><button aria-label="theme switch" data-moon-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill="currentColor"></path></svg>' data-sun-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" fill="currentColor"></path></svg>' id=theme-toggle><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill=currentColor></path></svg></button><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><div id=wrapper><div id=blank></div><aside class=blur><nav><ul><li><a class=h2 href=#a-long-term-python-user-s-perspective-on-getting-productive-with-uv>A long-term Python user‚Äôs perspective on getting productive with uv</a><li><a class=h2 href=#unraveling-the-messy-python-tooling-ecosystem>Unraveling the messy Python tooling ecosystem</a> <ul><li><a class=h3 href=#the-early-days-easy-install>The early days: easy_install</a><li><a class=h3 href=#the-conda-affliction>The conda affliction</a><li><a class=h3 href=#why-poetry-rose-to-prominence>Why poetry rose to prominence</a><li><a class=h3 href=#a-host-of-other-tools>A host of other tools</a></ul><li><a class=h2 href=#uv-the-solution-to-all-these-problems>uv: The solution to all these problems</a><li><a class=h2 href=#usage>Usage</a> <ul><li><a class=h3 href=#what-makes-a-good-python-project-setup>What makes a good Python project setup?</a><li><a class=h3 href=#create-project>Create project</a><li><a class=h3 href=#set-up-environment>Set up environment</a><li><a class=h3 href=#performance-comparison>Performance comparison</a><li><a class=h3 href=#interactive-code-execution>Interactive code execution</a><li><a class=h3 href=#command-line-execution>Command line execution</a><li><a class=h3 href=#useful-commands>Useful commands</a><li><a class=h3 href=#tool-usage>Tool usage</a></ul><li><a class=h2 href=#takeaways>Takeaways</a><li><a class=h2 href=#example-code>Example code</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>uv: Towards a unified vision for Python tooling</h1><div id=post-info><div id=date><span id=publish>2024-12-26</span></div><div id=tags><a href=https://thedataquarry.github.io/tags/python><span>#</span>python</a><a href=https://thedataquarry.github.io/tags/rust><span>#</span>rust</a><a href=https://thedataquarry.github.io/tags/tooling><span>#</span>tooling</a></div></div><h2 id=a-long-term-python-user-s-perspective-on-getting-productive-with-uv>A long-term Python user‚Äôs perspective on getting productive with uv<a aria-label="Anchor link for: a-long-term-python-user-s-perspective-on-getting-productive-with-uv" class=zola-anchor href=#a-long-term-python-user-s-perspective-on-getting-productive-with-uv>#</a></h2><p>As many readers of this blog will know, I‚Äôve been coding in Python for what feels like forever, having written my first line of Python in 2009. Over the years, I‚Äôve seen and used countless tools to manage dependencies, projects, virtual environments, packages and more, which are collectively known as the Python tooling ecosystem. It‚Äôs clear that this ecosystem has always been fragmented, seemingly beyond hope. There are <em>so</em> many tools that do similar things, many of which overlap in functionality, and it‚Äôs not clear to even experienced users which one to use when collaborating with others on a project. Having worked with countless users who are just entering the Python ecosystem, I‚Äôve seen first-hand how confusing this fragmented tool chain is for newcomers. Recall that Python has only grown in popularity over the years, and is now the most popular language <a rel="nofollow noreferrer" href=https://twitter.com/ashtom/status/1851345368984011220>on GitHub</a>, so user-friendliness in the ecosystem is crucial for the language‚Äôs long term success.<p>The arrival of <a rel="nofollow noreferrer" href=https://astral.sh/>Astral</a>, and their tools: <a rel="nofollow noreferrer" href=https://docs.astral.sh/ruff/>ruff</a> and more recently, uv, has proven to be a breath of fresh air to the entire Python community. Early in 2024, uv‚Äôs release blog post<sup class=footnote-reference><a href=#1>1</a></sup> created quite a buzz across the ecosystem, but as I reflect on my own usage of uv over the course of this past year, I felt the need to write this post as a tribute to uv‚Äôs success, and to describe how it‚Äôs markedly improved my productivity when working with Python.<p>A lot of you reading this post are probably like me ‚Äì i.e., you are a <em>user</em> of Python libraries and frameworks written by other people. In this blog post, I‚Äôll summarize a bit of history of prior tools that did each did their individual jobs well, but uv is now changing the game by unifying the benefits of these tools into one.<blockquote class="callout tip"><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9.97308 18H11V13H13V18H14.0269C14.1589 16.7984 14.7721 15.8065 15.7676 14.7226C15.8797 14.6006 16.5988 13.8564 16.6841 13.7501C17.5318 12.6931 18 11.385 18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C6 11.3843 6.46774 12.6917 7.31462 13.7484C7.40004 13.855 8.12081 14.6012 8.23154 14.7218C9.22766 15.8064 9.84103 16.7984 9.97308 18ZM10 20V21H14V20H10ZM5.75395 14.9992C4.65645 13.6297 4 11.8915 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10C20 11.8925 19.3428 13.6315 18.2443 15.0014C17.624 15.7748 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C8 17 6.37458 15.7736 5.75395 14.9992Z" fill=currentColor></path></svg></div><div class=content><p><strong>TL;DR</strong><p>As an AI Engineer, I typically use uv in two distinct ‚Äúmindsets‚Äù during my development workflow.<ul><li><strong>Experimentation</strong>: In a project‚Äôs early stages (when I make and break quickly), I use uv in combination with <code>ipykernel</code> to iterate on ideas and experiments via interactive execution, directly in my editor (I generally avoid using Jupyter Notebooks).<li><strong>Distribution</strong>: Once the overall flow of the project is clearer, I use uv to execute the workflow end-to-end via the command line, while seamlessly translating my initial working code to something that‚Äôs production-ready or for sharing with others.</ul><p>If you want to see examples and a timing comparison, skip ahead to <a href=#usage>this section</a> to see the commands I regularly use in my workflows.</div></blockquote><p>Armin Ronacher, creator of Flask and the <code>rye</code> package manager for Python, explains the reasons for his excitement towards Astral‚Äôs toolchain very well in his <a rel="nofollow noreferrer" href=https://lucumr.pocoo.org/2024/8/21/harvest-season/>blog post</a>. With his vast experience in the Python ecosystem, he approaches uv from a library developer‚Äôs perspective. This particular comment from his blog post stands out:<blockquote><p><em>Domination is a goal because it means that most investment will go into one stack. For me uv is poised to be that tool. It‚Äôs not quite there today yet for all cases, but it will be in no time, and now is the moment to step up as a community and start to start to rally around it</em><br> ‚Äì Armin Ronacher<sup class=footnote-reference><a href=#2>2</a></sup></blockquote><h2 id=unraveling-the-messy-python-tooling-ecosystem>Unraveling the messy Python tooling ecosystem<a aria-label="Anchor link for: unraveling-the-messy-python-tooling-ecosystem" class=zola-anchor href=#unraveling-the-messy-python-tooling-ecosystem>#</a></h2><h3 id=the-early-days-easy-install>The early days: <code>easy_install</code><a aria-label="Anchor link for: the-early-days-easy-install" class=zola-anchor href=#the-early-days-easy-install>#</a></h3><p>When I first began using Python in early 2009, the Python Package Index (PyPI) and <code>pip</code> weren‚Äôt mature (<code>pip</code> had only just come out a few months before), and the only way to install packages was by either manually downloading the source and running <code>setup.py</code>, or use the <code>easy_install</code> utility. <code>easy_install</code> had some benefits, but came with a host of problems<sup class=footnote-reference><a href=#3>3</a></sup>. It didn‚Äôt have a way to <em>uninstall</em> packages, and it also didn‚Äôt have a way to reproducibly and reliably pin the right versions of dependencies like <code>pip</code> did via a <code>requirements.txt</code> file when it came out.<p><code>pip</code> was a huge step forward for the Python community, and it quickly became the de-facto package manager for Python. It was so good that it was eventually incorporated into the Python standard library, shipping with every default distribution of Python native to unix operating systems.<h3 id=the-conda-affliction>The conda affliction<a aria-label="Anchor link for: the-conda-affliction" class=zola-anchor href=#the-conda-affliction>#</a></h3><p>The package manager <code>conda</code> was developed to solve dependency resolution and library compilation challenges in the scientific Python ecosystem, which made sense when key libraries like <code>numpy</code> and <code>scipy</code> simply didn‚Äôt compile on certain operating systems via <code>pip</code>. However, in hindsight, as <code>pip</code> became more and more mature, it‚Äôs clear that <code>conda</code> further fragmented the Python user community because it introduced a new package and environment manager totally distinct from <code>pip</code>. It also used an entirely different repository for new, up and coming libraries (<code>conda-forge</code>), so every library maintainer who released a new package on PyPI to be installable via <code>pip</code> had to also release the same package on <code>conda-forge</code> to be installable via <code>conda</code>. If you‚Äôve worked on large Python codebases, especially those that involve scientific computing, you likely faced the issue of <code>conda</code> environments and <code>pip</code> environments not playing well together, forcing your to either migrate your entire codebase into one ecosystem or the other.<p>I‚Äôve always found it tragic that an entire generation of scientific Python developers came into the Python ecosystem circa 2010-2020 and only knew <code>conda</code> as their go-to Python dependency management tool. In all my time using Python over the last 15 years, I‚Äôve found that ‚Äúregular‚Äù software engineers or backend developers never wanted/used <code>conda</code>, preferring other alternatives, and so I‚Äôve seen my fair share of teams that are a mix of scientific developers and software engineers who have to painstakingly stitch together their workflows because they simply cannot agree on a single toolchain.<figure><img alt="<i>Why is Python Packaging such a mess?</i> <a href='https://www.reddit.com/r/Python/comments/cry1fn/rant_after_going_through_literal_hell_with/'>Reddit rant</a>" loading=lazy src=reddit-python-packaging.webp><figcaption><i>Why is Python Packaging such a mess?</i> <a href=https://www.reddit.com/r/Python/comments/cry1fn/rant_after_going_through_literal_hell_with/>Reddit rant</a></figcaption></figure><h3 id=why-poetry-rose-to-prominence>Why <code>poetry</code> rose to prominence<a aria-label="Anchor link for: why-poetry-rose-to-prominence" class=zola-anchor href=#why-poetry-rose-to-prominence>#</a></h3><p><code>poetry</code> is a tool that a lot of developers (especially library maintainers) swear by, and for good reason ‚Äì it‚Äôs a great tool for managing environments and dependencies via locked dependency files. While <code>pip</code> relied on the <code>requirements.txt</code> file to manage dependencies, <code>poetry</code> introduced a much more structured <code>pyproject.toml</code> (and its associated <code>poetry.lock</code> file), which results in deterministic builds across different platforms and far fewer cases of failure in resolving dependencies.<p>However, there‚Äôs no denying that <code>poetry</code> is <em>noticeably slow</em>. In most machine learning or scientific computing projects where you‚Äôre dealing with a ton of dependencies, <code>poetry</code>‚Äôs dependency resolver can take a long time to resolve the dependency graph and get a project set up. The justification has always been that it at least ‚Äúworks‚Äù, and reduces the burden of portability on library developers who are distributing packages to a large number of users across a variety of platforms. I‚Äôve seen a lot of mature projects in the Python ecosystem adopt <code>poetry</code> for these reasons, and it‚Äôs more or less become the de-facto standard package manager for projects involving larger teams or huge open source projects where collaboration is of essence.<h3 id=a-host-of-other-tools>A host of other tools<a aria-label="Anchor link for: a-host-of-other-tools" class=zola-anchor href=#a-host-of-other-tools>#</a></h3><p>I won‚Äôt go into the details of a whole host of other tools that address specific painpoints in Python tooling, but each one of them such as <code>pyenv</code>, <code>pipx</code>, <code>pipenv</code>, <code>pip-tools</code>, <code>pixi</code> and many others, tried to bring their own perspective to the table, to solve everything from dependency management, from managing Python versions to creating virtual environments. The <code>pipx</code> documentation has an <a rel="nofollow noreferrer" href=https://pipx.pypa.io/stable/comparisons/>entire page</a> to just list the differences between theirs and a ton of other tools. Mind-numbing stuff, to say the least.<h2 id=uv-the-solution-to-all-these-problems>uv: The solution to <em>all</em> these problems<a aria-label="Anchor link for: uv-the-solution-to-all-these-problems" class=zola-anchor href=#uv-the-solution-to-all-these-problems>#</a></h2><p>Since its launch in February 2024, <a rel="nofollow noreferrer" href=https://github.com/astral-sh/uv>uv</a> has exploded in popularity, and many large Python projects have completely migrated to it in their CI/CD as well as local build/execution pipelines. Below, I‚Äôve summarized a few key reasons why I think uv has become this much of an unstoppable force in such a short time since its launch:<ul><li><strong>Performance</strong>: uv is <em>fast</em>. It‚Äôs ~<strong>10x-100x</strong> faster than <code>pip</code> and <code>poetry</code> in realistic environments, partly because its dependency resolver is written in Rust ü¶Ä, but also because it implements a lot of smart caching and optimizations that are laser-focused on providing the best performance possible. See <a href="https://www.youtube.com/watch?v=gSKTfG1GXYQ" rel="nofollow noreferrer">this video</a> by Astral‚Äôs CEO Charlie Marsh for a deep dive into some of these optimizations.<li><strong>Usability</strong>: uv is <em>easy to use</em>. It‚Äôs a command line tool that‚Äôs easy to install, and it‚Äôs very easy to set up a new project and get started with it, because it‚Äôs also so well-documented.<li><strong>Learned lessons from Rust ü¶Ä packaging</strong>: Just like the Rust programming language has the Cargo ecosystem for a single unified toolchain, uv brings a lot of the best practices that Rust developers have come to appreciate, into Python.<li><strong>Learned lessons from Python üêç packaging</strong>: Charlie Marsh, Astral‚Äôs CEO, has been open about how he and the core team that developed uv spent a lot of time studying the history of the Python tooling ecosystem (including what worked, and what didn‚Äôt), and worked closely with the creator of <code>rye</code>, Armin Ronacher ‚Äì so this is a tool that‚Äôs been built with a lot of prior thought and consideration put into it.<li><strong>Engagement with the Python community</strong>: A very important aspect of Charlie‚Äôs and Astral‚Äôs approach is <em>humility</em>, by not pushing their solution on the community and continually engaging with long-term users of other tools in the Python ecosystem. And because the project is completely open source, we get <a rel="nofollow noreferrer" href=https://github.com/astral-sh/rye/discussions/1342>direct insights</a> into how they‚Äôre learning from the community.</ul><script async charset=utf-8 src=https://platform.twitter.com/widgets.js></script><div class=twitter><center> <blockquote class=twitter-tweet><a href=https://twitter.com/charliermarsh/status/1825958674239803515></a></blockquote> </center></div><hr><h2 id=usage>Usage<a aria-label="Anchor link for: usage" class=zola-anchor href=#usage>#</a></h2><p>Alright, with that bit of background out of the way, I hope it‚Äôs clear why so many Python developers other than myself are just as excited about uv as I am.<h3 id=what-makes-a-good-python-project-setup>What makes a good Python project setup?<a aria-label="Anchor link for: what-makes-a-good-python-project-setup" class=zola-anchor href=#what-makes-a-good-python-project-setup>#</a></h3><p>Let‚Äôs first start by asking ourselves what the requirements are for a good Python project setup.<ul><li><strong>Python version management</strong>: How do you manage the Python version for your project? How do you ensure that the user executing your code is using the same Python version as you intended?<li><strong>Dependency management</strong>: How do you manage dependencies for your project? How do you ensure that the dependencies are locked and that you can reproduce the environment on another machine?<li><strong>Virtual environments</strong>: How do you manage virtual environments for your project? How do you ensure that the virtual environment is isolated from the system Python installation?<li><strong>Interactive code execution</strong>: Some times, you may want to run exploratory code to test out ideas without needing a full-fledged Python project. How do you link your interactive code execution tool (e.g., Jupyter notebook) to your project‚Äôs dependencies?<li><strong>Project packaging</strong>: How do you package your project for distribution? How do you ensure that the package is built correctly and that it can be installed on another machine?<li><strong>Ease of use</strong>: How do you ensure that the tools and workflow you applied to your project is easy enough for you, yourself, and then to train others who are new to the project?</ul><p>As you read this post and go through the uv <a rel="nofollow noreferrer" href=https://docs.astral.sh/uv/>docs</a>, you‚Äôll see that it addresses all of these requirements (and more), while being a one-stop-shop when you may have earlier resorted to using multiple other tools.<h3 id=create-project>Create project<a aria-label="Anchor link for: create-project" class=zola-anchor href=#create-project>#</a></h3><p>The following steps assumes that you‚Äôve <a rel="nofollow noreferrer" href=https://docs.astral.sh/uv/getting-started/installation/>installed uv</a> globally on your machine. To begin, let‚Äôs set up a new uv project.<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>uv</span><span> init uv-demo
</span><span style=color:#88c0d0>cd</span><span> uv-demo
</span></code></pre><p>This will create a new directory called <code>uv-demo</code> and initialize a new uv project with some basic files in it. The directory structure should look like this:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>uv-demo/
</span><span style=color:#88c0d0>‚îú‚îÄ‚îÄ</span><span> .python-version
</span><span style=color:#88c0d0>‚îú‚îÄ‚îÄ</span><span> .gitignore
</span><span style=color:#88c0d0>‚îú‚îÄ‚îÄ</span><span> pyproject.toml
</span><span style=color:#88c0d0>‚îú‚îÄ‚îÄ</span><span> hello.py
</span><span style=color:#88c0d0>‚îî‚îÄ‚îÄ</span><span> README.md
</span></code></pre><p>The <code>hello.py</code> file is a simple Python script that prints ‚ÄúHello, World!‚Äù to the console. You can either delete this file or leave it in there, but it‚Äôs a good starting point to begin writing some code. A <code>.python-version</code> file is created to specify the Python version that was used for this project. The <code>pyproject.toml</code> file is the main configuration file for the project, and it‚Äôs where you can specify the dependencies for your project ‚Äì initially, it‚Äôs empty.<h3 id=set-up-environment>Set up environment<a aria-label="Anchor link for: set-up-environment" class=zola-anchor href=#set-up-environment>#</a></h3><p>Once of the best things about uv is that you don‚Äôt need to worry about virtual environments. uv will automatically create a virtual environment for your project, while also ensuring that code that it executes in the current project directory is executed from within this virtual environment ‚Äì no more worrying about whether you‚Äôre in the right virtual environment or not!<p>For a demo of how fast uv is, let‚Äôs install the following dependencies:<div class=codeblock-with-filename><div class=filename>requirements.txt</div><pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span>kuzu</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.7.1
</span><span>lancedb</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.17.0
</span><span>llama-index</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.12.8
</span><span>llama-index-llms-openai</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.3.12
</span><span>llama-index-embeddings-openai</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.3.1
</span><span>llama-index-graph-stores-kuzu</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.6.0
</span><span>llama-index-vector-stores-lancedb</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=0.3.0
</span><span>numpy</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=2.2.1
</span><span>polars</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=1.18.0
</span><span>pyarrow</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=18.1.0
</span><span>python-dotenv</span><span style=color:#81a1c1>=</span><span style=color:#a3be8c>=1.0.1
</span></code></pre></div><p>These requirements contain a non-trivial set of dependencies if, say, you want to build a Graph RAG system using <a rel="nofollow noreferrer" href=https://kuzudb.com/>K√πzu</a> as the graph store, <a rel="nofollow noreferrer" href=https://lancedb.com/>LanceDB</a> as the vector store, and LlamaIndex as the orchestration framework. These tools/frameworks themselves depend on libraries like <code>pyarrow</code>, <code>numpy</code>, <code>polars</code>, etc., and there needs to be a way to ensure that all of these dependencies are installed a) reproducibly and portably across different machines, and b) without any conflicts in the dependency graph that brings together all of these libraries in a working project.<h3 id=performance-comparison>Performance comparison<a aria-label="Anchor link for: performance-comparison" class=zola-anchor href=#performance-comparison>#</a></h3><p>All tests below are run on my 2023 M3 Macbook Pro. We will install these dependencies using three different tools: <code>pip</code>, <code>poetry</code> and <code>uv</code>, and compare the performance of each when starting ‚Äúcold‚Äù, i.e., with a clean cache. Let‚Äôs first purge the cache for all the tools on our local machine:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>uv</span><span> clean cache
</span><span style=color:#88c0d0>pip</span><span> cache purge
</span><span style=color:#88c0d0>poetry</span><span> cache clear --all .
</span></code></pre><h4 id=pip><code>pip</code><a aria-label="Anchor link for: pip" class=zola-anchor href=#pip>#</a></h4><p>Let‚Äôs first run the following three commands to install the dependencies via <code>pip</code>:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#616e88># Create a new virtual environment
</span><span style=color:#88c0d0>python</span><span> -m venv .venv
</span><span style=color:#616e88># Activate the virtual environment
</span><span style=color:#88c0d0>source</span><span> .venv/bin/activate
</span><span style=color:#616e88># Time the execution of the pip install command
</span><span style=color:#88c0d0>time</span><span> pip install -r requirements.txt
</span></code></pre><p>Installing the dependencies via <code>pip</code> took 18.3 seconds. Note that when using <code>pip</code>, you needed to manually keep track of the local <code>.venv</code> directory, and activate it so that the dependencies are installed in the correct environment. It‚Äôs all too easy to forget to activate the virtual environment, which leads to the dependencies being installed in the system Python environment instead (not at all a good practice!).<h4 id=poetry><code>poetry</code><a aria-label="Anchor link for: poetry" class=zola-anchor href=#poetry>#</a></h4><p>Let‚Äôs remove the virtual environment via <code>rm -rf .venv</code> and run the same command again, but now let‚Äôs install the dependencies via <code>poetry</code>:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#616e88># Create a new virtual environment and activate it
</span><span style=color:#88c0d0>poetry</span><span> init
</span><span style=color:#616e88># Accept the default values and then enter the poetry shell
</span><span style=color:#88c0d0>poetry</span><span> shell
</span><span style=color:#616e88># Install the dependencies
</span><span style=color:#88c0d0>time</span><span> poetry install
</span></code></pre><p>Installing via <code>poetry</code> took 6.3 seconds. Again, note how the steps are multifold ‚Äì you needed to initialize a new poetry project, enter the poetry shell, and then install the dependencies. To reuse the environment created, you have to enter the poetry shell every time.<p>To clean things up for the next step, let‚Äôs remove the virtual environment via <code>poetry env remove uv-demo-_xPlEE72-py3.12</code>, and delete the <code>poetry.lock</code> and <code>pyproject.toml</code> files.<h4 id=uv><code>uv</code><a aria-label="Anchor link for: uv" class=zola-anchor href=#uv>#</a></h4><p>Let‚Äôs now install the same dependencies using uv:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#616e88># Create an empty pyproject.toml file and initialize a uv project
</span><span style=color:#88c0d0>uv</span><span> init
</span><span style=color:#616e88># Install the dependencies
</span><span style=color:#88c0d0>time</span><span> uv add -r requirements.txt
</span></code></pre><p>Installing the dependencies via uv took just 2.3 seconds! Upon completion of this command, we now have a <code>.venv</code> directory in our project directory, which contains the virtual environment for this project. We do not need to worry about its contents, or about activating it, as we will see below. uv manages this directory and its usage entirely for us. Indeed, you may as well not even be aware that the <code>.venv</code> directory exists.<p>The ease of use is already evident here ‚Äì we simply run <code>uv add -r requirements.txt</code> and uv handles the rest.<p>To summarize, here‚Äôs a timing table for this simple dependency resolution task, done via a cold cache using each of the three tools:<table><thead><tr><th>Tool<th>Timing<tbody><tr><td><code>pip</code><td>18.3 sec<tr><td><code>poetry</code><td>6.3 sec<tr><td><code>uv</code><td>2.3 sec</table><p>uv was <strong>8x faster</strong> than <code>pip</code> and <strong>3x faster</strong> than <code>poetry</code> in this relatively simple dependency resolution task. In a realistic scenario, you‚Äôre likely dealing with a lot more dependencies that are more complex, and the performance gap between uv and the other tools would be even more pronounced.<h3 id=interactive-code-execution>Interactive code execution<a aria-label="Anchor link for: interactive-code-execution" class=zola-anchor href=#interactive-code-execution>#</a></h3><p>In the beginnings of a project, I typically experiment with ideas and iterate quickly, during which I often rapidly update or modify my dependencies. uv is <em>great</em> for this, because it allows me to seamlessly link my interactive code execution tool (e.g., the Cursor IDE) to my project‚Äôs dependencies. Modern IDEs like VS Code and Cursor have great support for interactive Python code execution because they embed <code>ipykernel</code> the core utility that powers Jupyter Notebooks, but they make the execution workflow with virtual environments far more seamless than using Jupyter notebooks. It‚Äôs amazing how easily a uv-managed virtual environment can be linked to an interactive code session in VS Code or Cursor.<p>uv has the concept of <a rel="nofollow noreferrer" href=https://docs.astral.sh/uv/concepts/projects/dependencies/#dependency-groups>dependency groups</a>, which allows you to clearly separate the development dependencies from the project‚Äôs core dependencies. Because <code>ipykernel</code> is something only I may use on my local machine ‚Äì my collaborators may prefer to use their own tools to rerun my code ‚Äì I normally install <code>ipykernel</code> in the <code>dev</code> dependency group. When executing code interactively in Cursor, I simply type in <code>Shift</code> + <code>Enter</code> to run the code, and Cursor will automatically link the <code>ipython</code> kernel to the local virtual environment directory, <code>.venv</code>, that uv created for us when we ran <code>uv add -r requirements.txt</code>.<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#616e88># We ran this command earlier to install dependencies from requirements.txt
</span><span style=color:#88c0d0>uv</span><span> add -r requirements.txt
</span><span style=color:#616e88># Add ipykernel to the dev dependency group
</span><span style=color:#616e88># to be able to interactively execute code in Cursor
</span><span style=color:#88c0d0>uv</span><span> add --dev ipykernel
</span></code></pre><p>See below for a demo of how simple it is to use a local uv-managed virtual environment to interactively execute code in Cursor or VS Code.<figure><img loading=lazy src=uv-interactive-demo.gif></figure><p>The above approach is in stark contrast to Jupyter Lab or Jupyter notebooks, which typically require you to install a custom <code>ipython</code> kernel that‚Äôs stored and managed separately from the project‚Äôs virtual environment that may have been created via <code>pip</code> or <code>poetry</code>. This leads to a disconnect between the environment on your machine and the environment that someone else may use on their machine, because it requires them to perform a bunch of extra steps to ensure that the kernel is correctly installed and linked to the correct virtual environment on their end, which you as the developer who distributed the code have no control over.<p>uv solves the above problem by allowing you to use the <strong>same</strong> tool and virtual environment for both interactive code execution <em>and</em> command line execution, and clearly packaging it all in a self-contained way that can be easily distributed to others.<h3 id=command-line-execution>Command line execution<a aria-label="Anchor link for: command-line-execution" class=zola-anchor href=#command-line-execution>#</a></h3><p>Let‚Äôs look at how uv handles command line execution of Python code.<p>The <code>.venv</code> directory in which uv manages the virtual environment is created when you run <code>uv add</code> or <code>uv sync</code> (which looks for a local <code>pyproject.toml</code> file and creates a <code>.venv</code> directory that holds the virtual environment, if it doesn‚Äôt already exist). If you‚Äôre using uv in a CI/CD pipeline, you can run <code>uv sync</code> to ensure that the virtual environment is created at the location where the git repository is cloned.<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>‚ùØ</span><span> uv sync
</span><span style=color:#88c0d0>Resolved</span><span> 113 packages in 0.75ms
</span><span style=color:#88c0d0>Audited</span><span> 108 packages in 0.09ms
</span></code></pre><p>Let‚Äôs run the same code as shown in the interactive execution section above, but this time, we‚Äôll run the Python script via the command line. Here‚Äôs the code we‚Äôll run:<div class=codeblock-with-filename><div class=filename>hello.py</div><pre class=language-python data-lang=python style=background:#2e3440;color:#d8dee9><code class=language-python data-lang=python><span style=color:#81a1c1>import </span><span>polars </span><span style=color:#81a1c1>as </span><span>pl
</span><span>
</span><span>df </span><span style=color:#81a1c1>= </span><span>pl</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>DataFrame</span><span>(
</span><span>    {
</span><span>        </span><span style=color:#a3be8c>"a"</span><span style=color:#eceff4>: </span><span>[</span><span style=color:#b48ead>1</span><span style=color:#eceff4>, </span><span style=color:#b48ead>2</span><span style=color:#eceff4>, </span><span style=color:#b48ead>3</span><span>]</span><span style=color:#eceff4>,
</span><span>        </span><span style=color:#a3be8c>"b"</span><span style=color:#eceff4>: </span><span>[</span><span style=color:#b48ead>4</span><span style=color:#eceff4>, </span><span style=color:#b48ead>5</span><span style=color:#eceff4>, </span><span style=color:#b48ead>6</span><span>]</span><span style=color:#eceff4>,
</span><span>    }
</span><span>)
</span><span>
</span><span style=font-style:italic;color:#88c0d0>print</span><span>(</span><span style=color:#a3be8c>"Hello from uv-demo!"</span><span>)
</span></code></pre></div><p>We can run the <code>hello.py</code> script using <code>uv run</code> as follows:<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>‚ùØ</span><span> uv run hello.py
</span><span style=color:#88c0d0>Hello</span><span> from uv-demo!
</span></code></pre><p>Although it may not be immediately obvious, this very simple command does the following under the hood:<ol><li>Installs Python if it‚Äôs not already installed<li>Creates and activates the virtual environment<li>Installs the dependencies<li>Runs the code</ol><p>This sequence of steps is very powerful, as it simplifies the thought process of the developer while also ensuring that the code is executed in a consistent environment across all platforms. To ensure this, uv also creates a <code>uv.lock</code> file that locks the exact versions of the dependencies that were used to run the code, which is similar a <code>poetry.lock</code> file, but is created much faster.<p>As a developer, all I need to do is focus on writing good code that translates my thought process into something that can be executed, and uv will handle the rest!<h3 id=useful-commands>Useful commands<a aria-label="Anchor link for: useful-commands" class=zola-anchor href=#useful-commands>#</a></h3><p>In summary, here are some of the most useful commands that I more frequently use when working with uv:<ul><li><code>uv init</code>: Initialize a new uv project<li><code>uv add &LTdependency></code>: Add a specific dependency to the project<li><code>uv add -r &LTrequirements.txt></code>: Add dependencies from a <code>requirements.txt</code> file (which is a common way to distribute dependencies in a Python project)<li><code>uv sync</code>: Sync the project dependencies with the existing <code>pyproject.toml</code> file (if it doesn‚Äôt exist, simply run <code>uv init</code> to create it)<li><code>uv run myfile.py</code>: Run a Python file in the project (similar to <code>python myfile.py</code>)</ul><h3 id=tool-usage>Tool usage<a aria-label="Anchor link for: tool-usage" class=zola-anchor href=#tool-usage>#</a></h3><p>Another very useful feature that I‚Äôve begun using more in my workflows is the <code>uv tool run</code> command, whose shorthand is <code>uvx</code>. This command allows you to run the <code>ruff</code> formatter on your code via a similar workflow to <code>uv run</code>. Again, uv does the necessary background work to download and install <code>ruff</code> on the fly, if it‚Äôs not already installed on your machine<sup class=footnote-reference><a href=#4>4</a></sup>.<pre class=language-bash data-lang=bash style=background:#2e3440;color:#d8dee9><code class=language-bash data-lang=bash><span style=color:#88c0d0>uvx</span><span> ruff check .
</span><span style=color:#88c0d0>uvx</span><span> ruff format </span><span style=color:#81a1c1>*</span><span>.py --line-length 100
</span></code></pre><p>This eliminates the need for older tools like <code>black</code>, <code>isort</code> and <code>flake8</code> that were necessary to format code in Python projects (these tools were also far slower than <code>ruff</code>). Using uv in combination with <code>ruff</code> makes the entire process of writing clean, well formatted code just so seamless and convenient!<h2 id=takeaways>Takeaways<a aria-label="Anchor link for: takeaways" class=zola-anchor href=#takeaways>#</a></h2><p>uv can obviously do a lot more than what I‚Äôve shown here, and I encourage you to read the <a rel="nofollow noreferrer" href=https://docs.astral.sh/uv/>docs</a> to deep dive into its functionality. Other benefits include managing multiple Python versions, executing standalone scripts without the need to create a virtual environment, and more. This is only the beginning!<p>In my Python project workflows (both for experimentation and distribution of clean, reproducible code), uv has completely replaced the following tools:<ul><li><code>pip</code><li><code>pyenv</code><li><code>poetry</code><li><code>venv</code><li><code>pipenv</code></ul><p>Depending on what background you‚Äôre coming from, you may have other tools that you‚Äôve used, that are also likely easily replaced by uv.<p>I‚Äôm very passionate about communicating these benefits of unification in the Python tooling ecosystem, which in my opinion, brings Python on par with other languages like Rust, Ruby and Go ‚Äì languages that have long been lauded for their excellent tooling. I also believe that sometimes, these ideas are best communicated via live demos, so I highly recommend watching the following video for a live coding tutorial that I did on this topic with <a rel="nofollow noreferrer" href=https://www.youtube.com/@YourTechBudCodes>YourTechBud</a>. Feel free to add your thoughts in the video‚Äôs comments section!<div class=youtube><iframe allowfullscreen mozallowfullscreen src=https://www.youtube.com/embed/-J5SnWR4UXw webkitallowfullscreen></iframe></div><p>If you‚Äôve made it this far, thanks for reading! Please help spread the word about uv and begin trying it out for yourself. Your future self will thank you for it, and there‚Äôs no going back!<h2 id=example-code>Example code<a aria-label="Anchor link for: example-code" class=zola-anchor href=#example-code>#</a></h2><p>The example code and <code>requirements.txt</code> file used in this post can be found <a rel="nofollow noreferrer" href=https://github.com/prrao87/uv-demo>here</a>. Feel free to clone the repo and compare uv‚Äôs performance to other tools in your own projects!<hr><div class=footnote-definition id=1><sup class=footnote-definition-label>1</sup><p><em>uv: Unifying Python Packaging</em>, Astral‚Äôs <a rel="nofollow noreferrer" href=https://astral.sh/blog/uv-unified-python-packaging>blog</a> post.</div><div class=footnote-definition id=2><sup class=footnote-definition-label>2</sup><p><em>Rye and uv: August is Harvest Season for Python Packaging</em>, Armin Ronacher‚Äôs <a rel="nofollow noreferrer" href=https://lucumr.pocoo.org/2024/8/21/harvest-season/>blog</a></div><div class=footnote-definition id=3><sup class=footnote-definition-label>3</sup><p><em>Why use <code>pip</code> over <code>easy_install</code></em>?, <a rel="nofollow noreferrer" href=https://stackoverflow.com/questions/3220404/why-use-pip-over-easy-install>Stack Overflow</a> question from 2010.</div><div class=footnote-definition id=4><sup class=footnote-definition-label>4</sup><p>Updated from the earlier version that incorrectly stated that you‚Äôd need ruff pre-installed. Thanks to Ryan Morey <a rel="nofollow noreferrer" href=https://x.com/RyanMorey/status/1872725692384993639>on X</a> for pointing this out!</div></article><div class=giscus></div><script async crossorigin data-category=General data-category-id=DIC_kwDOKyWhTs4CbUSt data-emit-metadata=0 data-input-position=bottom data-lang=en data-loading=lazy data-mapping=pathname data-reactions-enabled=1 data-repo=thedataquarry/thedataquarry.github.io data-repo-id=R_kgDOKyWhTg data-strict=0 data-theme=preferred_color_scheme src=https://giscus.app/client.js></script></div><footer><div class=copyright><p>¬© 2024 Prashanth Rao</div><div class=credits>Powered by <a rel="noreferrer noopener" href=https://www.getzola.org target=_blank>zola</a> and <a rel="noreferrer noopener" href=https://github.com/isunjn/serene target=_blank>serene</a></div></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>